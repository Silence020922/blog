{"remainingRequest":"/root/myASUS/blog/asd/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/myASUS/blog/asd/blog/components/Valine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/myASUS/blog/asd/blog/components/Valine.vue","mtime":1652193550718},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/babel-loader/lib/index.js","mtime":1651554606693},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js","mtime":1651554614190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3Jvb3QvbXlBU1VTL2Jsb2cvYXNkL2Jsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8gVXNlIGltcG9ydAppbXBvcnQgVmFsaW5lIGZyb20gJ3ZhbGluZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMubG9hZENvbW1lbnQoKTsKICAgIH0sIDUwMCk7CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZSc6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0by5wYXRoICE9PSBmcm9tLnBhdGgpIHsKICAgICAgICAvLyDliIfmjaLpobXpnaLml7bph43mlrDovb3lhaXor4TorroKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5sb2FkQ29tbWVudCgpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsZWFyQ29tbWVudDogZnVuY3Rpb24gY2xlYXJDb21tZW50KCkgewogICAgICB2YXIgb0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2Y29tbWVudHMnKTsKICAgICAgb0RpdiAmJiBvRGl2LnJlbW92ZSgpOwogICAgfSwKICAgIGxvYWRDb21tZW50OiBmdW5jdGlvbiBsb2FkQ29tbWVudCgpIHsKICAgICAgdGhpcy5jbGVhckNvbW1lbnQoKTsKICAgICAgdmFyIG9Db21tZW50Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBvQ29tbWVudENvbnRlbnQuc2V0QXR0cmlidXRlKCdpZCcsICd2Y29tbWVudHMnKTsKICAgICAgdGhpcy4kcmVmcy52YWxpbmVCb3guYXBwZW5kQ2hpbGQob0NvbW1lbnRDb250ZW50KTsKICAgICAgbmV3IFZhbGluZShfb2JqZWN0U3ByZWFkKHsKICAgICAgICBlbDogJyN2Y29tbWVudHMnLAogICAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZQogICAgICB9LCB0aGlzLiR0aGVtZUNvbmZpZy5ibG9nLmNvbW1lbnQpKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;AAOA;AACA;AACA;EACAA,OADA,qBACA;IAAA;;IACAC;MACA;IACA,CAFA,EAEA,GAFA;EAGA,CALA;EAMAC;IACA,QADA,kBACAC,EADA,EACAC,IADA,EACA;MAAA;;MACA;QACA;QACAH;UACA;QACA,CAFA,EAEA,GAFA;MAGA;IACA;EARA,CANA;EAgBAI;IACAC,YADA,0BACA;MACA;MACAC;IACA,CAJA;IAKAC,WALA,yBAKA;MACA;MACA;MACAC;MACA;MACA;QACAC,gBADA;QAEAC;MAFA,GAGA,8BAHA;IAKA;EAfA;AAhBA","names":["mounted","setTimeout","watch","to","from","methods","clearComment","oDiv","loadComment","oCommentContent","el","path"],"sourceRoot":"components","sources":["Valine.vue"],"sourcesContent":["<template>\n  <div ref=\"valineBox\" class=\"valine-box\">\n    <div id=\"vcomments\"></div>\n  </div>\n</template>\n\n<script>\n// Use import\nimport Valine from 'valine'\nexport default {\n  mounted() {\n    setTimeout(() => {\n      this.loadComment();\n    }, 500)\n  },\n  watch: {\n    '$route' (to, from) {\n      if (to.path !== from.path) {\n        // 切换页面时重新载入评论\n        setTimeout(() => {\n          this.loadComment()\n        }, 500)\n      }\n    }\n  },\n  methods: {\n    clearComment() {\n      const oDiv = document.querySelector('#vcomments');\n      oDiv && oDiv.remove();\n    },\n    loadComment() {\n      this.clearComment();\n      const oCommentContent = document.createElement('div');\n      oCommentContent.setAttribute('id', 'vcomments');\n      this.$refs.valineBox.appendChild(oCommentContent);\n      new Valine({\n        el:'#vcomments',\n        path: window.location.pathname,\n        ...this.$themeConfig.blog.comment\n      })\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n.valine-box\n  .v[data-class=v]\n    a\n      color var(--theme-foreground-color)\n      &:hover\n        color var(--theme-accent-color)\n    .vwrap .vheader .vinput:focus\n      border-bottom-color var(--theme-accent-color)\n    .vcards .vcard\n      .vh .vmeta .vat\n        color var(--theme-foreground-color)\n        &:hover\n          color var(--theme-accent-color)\n      .vhead .vnick:hover\n        color var(--theme-accent-color)\n</style>"]}]}