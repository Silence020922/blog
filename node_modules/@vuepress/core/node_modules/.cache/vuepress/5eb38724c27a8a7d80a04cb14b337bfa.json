{"remainingRequest":"/root/myASUS/blog/asd/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/myASUS/blog/asd/blog/global-components/RelatedPosts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/myASUS/blog/asd/blog/global-components/RelatedPosts.vue","mtime":1652193550718},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/babel-loader/lib/index.js","mtime":1651554606693},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js","mtime":1651554614190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUuanMiOwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlbGF0ZWRQb3N0cycsCiAgcHJvcHM6IHsKICAgIHJlbGF0ZWRUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAnY2F0ZWdvcnknCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdDogZnVuY3Rpb24gbGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwb3N0cyA9IHRoaXMuJHNpdGUucGFnZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ucGlkICE9PSAncG9zdCcpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtLmZyb250bWF0dGVyLmV4Y2x1ZGVSZWxhdGVkUG9zdCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF90aGlzLmlzUmVsYXRlZFBvc3QoaXRlbSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcG9zdHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc1JlbGF0ZWRQb3N0OiBmdW5jdGlvbiBpc1JlbGF0ZWRQb3N0KGl0ZW0pIHsKICAgICAgdmFyIGFyckZuID0gW107CiAgICAgIHZhciBrZXlzOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICBpZiAoc2VsZi5yZWxhdGVkVHlwZSA9PT0gJ2NhdGVnb3J5JykgewogICAgICAgIGtleXMgPSBbJ2NhdGVnb3J5JywgJ2NhdGVnb3JpZXMnXTsKICAgICAgfQoKICAgICAgaWYgKHNlbGYucmVsYXRlZFR5cGUgPT09ICd0YWcnKSB7CiAgICAgICAga2V5cyA9IFsndGFnJywgJ3RhZ3MnXTsKICAgICAgfQoKICAgICAgYXJyRm4gPSBBcnJheS5vZihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLiRmcm9udG1hdHRlcltrZXlzWzBdXSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1swXV0gPT09ICdzdHJpbmcnKSByZXR1cm4gc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0gPT09IGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1swXV07CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dKSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1sxXV0uaW5jbHVkZXMoc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0pOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dKSkgewogICAgICAgICAgcmV0dXJuIHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dLmluY2x1ZGVzKGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1swXV0pOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1sxXV0pICYmIEFycmF5LmlzQXJyYXkoc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1sxXV0pKSB7CiAgICAgICAgICByZXR1cm4gc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1sxXV0uc29tZShmdW5jdGlvbiAoc3ViSXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5mcm9udG1hdHRlcltrZXlzWzFdXS5pbmNsdWRlcyhzdWJJdGVtKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBhcnJGbi5zb21lKGZ1bmN0aW9uIChmbkl0ZW0pIHsKICAgICAgICByZXR1cm4gZm5JdGVtKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;AAOA;EACAA,oBADA;EAEAC;IACAC;MACAC,YADA;MAEA;IAFA;EADA,CAFA;EAQAC;IACAC,IADA,kBACA;MAAA;;MACA;QACA;UACA;QACA;;QACA;UACA;QACA;;QACA;MACA,CARA;MASA;IACA;EAZA,CARA;EAsBAC;IACAC,aADA,yBACAC,IADA,EACA;MACA;MACA;MACA;;MACA;QACAC;MACA;;MACA;QACAA;MACA;;MACAC;QACA,qGACA;MACA,CAHA,EAGA;QACA;UACA;QACA;MACA,CAPA,EAOA;QACA;UACA;QACA;MACA,CAXA,EAWA;QACA;UACA;YACA;UACA,CAFA;QAGA;MACA,CAjBA;MAkBA;QACA;MACA,CAFA;IAGA;EAhCA;AAtBA","names":["name","props","relatedType","type","computed","list","methods","isRelatedPost","item","keys","arrFn"],"sourceRoot":"global-components","sources":["RelatedPosts.vue"],"sourcesContent":["<template>\n  <ul>\n    <li v-for=\"item in list\" :key=\"item.key\"><router-link :to=\"item.path\">{{item.title}}</router-link></li>\n  </ul>\n</template>\n\n<script>\n  export default {\n    name: 'RelatedPosts',\n    props: {\n      relatedType: {\n        type: String,\n        default: 'category'\n      }\n    },\n    computed: {\n      list() {\n        let posts = this.$site.pages.filter(item => {\n          if (item.pid !== 'post') {\n            return false;\n          }\n          if (item.frontmatter.excludeRelatedPost) {\n            return false;\n          }\n          return this.isRelatedPost(item);\n        });\n        return posts;\n      }\n    },\n    methods: {\n      isRelatedPost(item) {\n        let arrFn = [];\n        let keys;\n        const self = this;\n        if (self.relatedType === 'category') {\n          keys = ['category', 'categories'];\n        }\n        if (self.relatedType === 'tag') {\n          keys = ['tag', 'tags'];\n        }\n        arrFn = Array.of(() => {\n          if(typeof self.$frontmatter[keys[0]] === 'string' && typeof item.frontmatter[keys[0]] === 'string')\n          return self.$frontmatter[keys[0]] === item.frontmatter[keys[0]];\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]])) {\n            return item.frontmatter[keys[1]].includes(self.$frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(self.$frontmatter[keys[1]])) {\n            return self.$frontmatter[keys[1]].includes(item.frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]]) && Array.isArray(self.$frontmatter[keys[1]])) {\n             return self.$frontmatter[keys[1]].some(subItem => {\n              return item.frontmatter[keys[1]].includes(subItem);\n            });\n          }\n        });\n        return arrFn.some(fnItem => {\n          return fnItem();\n        })\n      }\n    }\n  }\n</script>"]}]}