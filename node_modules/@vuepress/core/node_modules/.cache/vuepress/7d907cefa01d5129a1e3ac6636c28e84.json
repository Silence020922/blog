{"remainingRequest":"/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/myASUS/blog/asd/blog/global-components/RelatedPosts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/root/myASUS/blog/asd/blog/global-components/RelatedPosts.vue","mtime":1652193550718},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/babel-loader/lib/index.js","mtime":1651554606693},{"path":"/root/myASUS/blog/asd/blog/node_modules/cache-loader/dist/cjs.js","mtime":1651554606967},{"path":"/root/myASUS/blog/asd/blog/node_modules/vue-loader/lib/index.js","mtime":1651554614190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVsYXRlZFBvc3RzJywKICBwcm9wczogewogICAgcmVsYXRlZFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2F0ZWdvcnknCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdCgpIHsKICAgICAgbGV0IHBvc3RzID0gdGhpcy4kc2l0ZS5wYWdlcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0ucGlkICE9PSAncG9zdCcpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGl0ZW0uZnJvbnRtYXR0ZXIuZXhjbHVkZVJlbGF0ZWRQb3N0KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLmlzUmVsYXRlZFBvc3QoaXRlbSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcG9zdHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc1JlbGF0ZWRQb3N0KGl0ZW0pIHsKICAgICAgbGV0IGFyckZuID0gW107CiAgICAgIGxldCBrZXlzOwogICAgICBjb25zdCBzZWxmID0gdGhpczsKICAgICAgaWYgKHNlbGYucmVsYXRlZFR5cGUgPT09ICdjYXRlZ29yeScpIHsKICAgICAgICBrZXlzID0gWydjYXRlZ29yeScsICdjYXRlZ29yaWVzJ107CiAgICAgIH0KICAgICAgaWYgKHNlbGYucmVsYXRlZFR5cGUgPT09ICd0YWcnKSB7CiAgICAgICAga2V5cyA9IFsndGFnJywgJ3RhZ3MnXTsKICAgICAgfQogICAgICBhcnJGbiA9IEFycmF5Lm9mKCgpID0+IHsKICAgICAgICBpZih0eXBlb2Ygc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBpdGVtLmZyb250bWF0dGVyW2tleXNbMF1dID09PSAnc3RyaW5nJykKICAgICAgICByZXR1cm4gc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0gPT09IGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1swXV07CiAgICAgIH0sICgpID0+IHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dKSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1sxXV0uaW5jbHVkZXMoc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0pOwogICAgICAgIH0KICAgICAgfSwgKCkgPT4gewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dKSkgewogICAgICAgICAgcmV0dXJuIHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dLmluY2x1ZGVzKGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1swXV0pOwogICAgICAgIH0KICAgICAgfSwgKCkgPT4gewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uZnJvbnRtYXR0ZXJba2V5c1sxXV0pICYmIEFycmF5LmlzQXJyYXkoc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1sxXV0pKSB7CiAgICAgICAgICAgcmV0dXJuIHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dLnNvbWUoc3ViSXRlbSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dLmluY2x1ZGVzKHN1Ykl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGFyckZuLnNvbWUoZm5JdGVtID0+IHsKICAgICAgICByZXR1cm4gZm5JdGVtKCk7CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["RelatedPosts.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RelatedPosts.vue","sourceRoot":"global-components","sourcesContent":["<template>\n  <ul>\n    <li v-for=\"item in list\" :key=\"item.key\"><router-link :to=\"item.path\">{{item.title}}</router-link></li>\n  </ul>\n</template>\n\n<script>\n  export default {\n    name: 'RelatedPosts',\n    props: {\n      relatedType: {\n        type: String,\n        default: 'category'\n      }\n    },\n    computed: {\n      list() {\n        let posts = this.$site.pages.filter(item => {\n          if (item.pid !== 'post') {\n            return false;\n          }\n          if (item.frontmatter.excludeRelatedPost) {\n            return false;\n          }\n          return this.isRelatedPost(item);\n        });\n        return posts;\n      }\n    },\n    methods: {\n      isRelatedPost(item) {\n        let arrFn = [];\n        let keys;\n        const self = this;\n        if (self.relatedType === 'category') {\n          keys = ['category', 'categories'];\n        }\n        if (self.relatedType === 'tag') {\n          keys = ['tag', 'tags'];\n        }\n        arrFn = Array.of(() => {\n          if(typeof self.$frontmatter[keys[0]] === 'string' && typeof item.frontmatter[keys[0]] === 'string')\n          return self.$frontmatter[keys[0]] === item.frontmatter[keys[0]];\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]])) {\n            return item.frontmatter[keys[1]].includes(self.$frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(self.$frontmatter[keys[1]])) {\n            return self.$frontmatter[keys[1]].includes(item.frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]]) && Array.isArray(self.$frontmatter[keys[1]])) {\n             return self.$frontmatter[keys[1]].some(subItem => {\n              return item.frontmatter[keys[1]].includes(subItem);\n            });\n          }\n        });\n        return arrFn.some(fnItem => {\n          return fnItem();\n        })\n      }\n    }\n  }\n</script>"]}]}